<!doctype html>
<html>
	<head>
		<title></title>
		<meta charset="utf-8">
		<meta name="keywords" content="">
		<meta name="description" content="">
		<style type="text/css">
			*{margin:0;padding:0;}
			body{padding-top:1px;height:3000px;}
			#div1{width:100px;height:100px;background:red;position:absolute;right:0;}
		</style>
	</head>
<body>
	<div id="div1"></div>
</body>
<script>
	var div1 = document.getElementById('div1');
	var timerId;
	window.onload = window.onscroll = function(){
		//测试各项参数的意义
		/*console.log('document.documentElement.clientWidth='+document.documentElement.clientWidth);
		console.log('document.body.clientWidth='+document.body.clientWidth);
		console.log('document.documentElement.clientHeight='+document.documentElement.clientHeight);
		console.log('document.body.clientHeight='+document.body.clientHeight);
		console.log('document.documentElement.scrollTop='+document.documentElement.scrollTop);
		console.log('document.body.scrollTop='+document.body.scrollTop);*/

		var end  = (document.documentElement.clientHeight-div1.offsetHeight)/2+document.body.scrollTop;
		clearInterval(timerId); //保证定时器不叠加
		timerId = setInterval(function(){
			if(end==div1.offsetTop){
				clearInterval(timerId);
			}else if(end - div1.offsetTop >= 10){
				div1.style.top = div1.offsetTop+(end - div1.offsetTop)/10+'px';
			}else if(end > div1.offsetTop){
				div1.style.top = div1.offsetTop+1+'px';
			}else if(div1.offsetTop - end >= 10){
				div1.style.top = div1.offsetTop-(div1.offsetTop-end)/10+'px';
			}else if(div1.offsetTop > end){
				div1.style.top = div1.offsetTop-1+'px';
			}
		},50);

	};
</script>
</html>