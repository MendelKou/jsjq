<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="Keywords" content="">
		<meta name="Description" content="">
		<title></title>
		
		<style type="text/css">
			body,div,p,h1,h2,h3,h4,h5,h6,ul,ol,dl,dd{margin:0;}
			ul,ol,input{padding:0;}
			ul,ol{list-style:none;}
			body{font:12px "微软雅黑";}
			a{text-decoration:none;color:#000;}
			img,button{border:none;}

			#div1{
				width:100px;
				height:100px;
				background:red;
				position:absolute;
				top:50px;
				left:50px;
				cursor:default;
			}
		</style>
		
	</head>
<body>
	<div id="div1"></div>
</body>
<script type="text/javascript">
	window.onload = function(){
		var oDiv = document.getElementById('div1');
		oDiv.onmousedown = function(ev){
			var e = ev || event;
			var offX = e.offsetX;
			var offY = e.offsetY;
			oDiv.onmousemove = function(ev){
				var e = ev || event;
				var left = e.clientX - offX;
				var top = e.clientY - offY;
				if(left>=0 && left <= document.documentElement.clientWidth-this.offsetWidth){
					this.style.left = left + 'px';
				}
				if(top>=0 && top <= document.documentElement.clientHeight-this.offsetHeight){
					this.style.top = top + 'px';
				}
				
			};
			oDiv.onmouseup = function(){
				this.onmousemove = null;
				this.onmousemdown = null;
			};
			oDiv.onmouseout = function(){
				this.onmousemove = null;
				this.onmousemdown = null;
			};
		};
	};
</script>
</html>
